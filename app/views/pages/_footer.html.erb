<% unless hidden %>

<% if page.ref_link.present? %>
  <div class="mt-3 flex justify-end w-full"><a data-turbo="false" class="flex text-sky-600 underline gap-1 items-center" href="<%= page.ref_link %>">Reference Wedsite <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M18.607 11.035v7.929a2.272 2.272 0 0 1-2.3 2.286H5.05a2.272 2.272 0 0 1-2.299-2.3V7.693a2.273 2.273 0 0 1 2.3-2.3h7.928M21.25 2.75L10.679 13.321M15.964 2.75h5.286v5.286"/></svg></a></div>
<% end %>

<div class="mt-10 text-center font-bold">Is this page incorrect?</div>
<div class="flex flex-col gap-4 justify-center items-center mt-5">
  <%= form_with(url: update_page_path(lang: page.language.name, id: page.id), id: "submit") do |form| %>
    <%= form.hidden_field :reset, value: "1" %>
    <div class="flex border rounded-lg">
      <%= form.text_field :url, class: "w-full max-w-[270px] rounded-s-lg border-none focus:ring-0 focus:outline-none", placeholder: "Reference URL" %>
      <%= form.button type: :submit, class: "rounded-e-lg bg-[#117469] border-[0.5px] border-sltate-300 px-5 py-2 inline-flex gap-2 hover:opacity-80 text-white" do %>
        <span class="flex items-center gap-1">
          Correct
        </span>
      <% end %>
    </div>
  <% end %>
</div>

<div class="py-[40px] grid gap-4 grid-cols-2">
  <% page.sources.each do |source| %>
    <% if source.id != page.id %>
      <%= render partial: "pages/relation", locals: { page: source } %>
    <% end %>
  <% end %>
  <% page.destinations.each do |destination| %>
    <% if destination.id != page.id %>
      <%= render partial: "pages/relation", locals: { page: destination } %>
    <% end %>
  <% end %>
</div>

<% end %>
